import 'package:flutter/material.dart';
import '../i18n/i18n.dart';

class DeletePage extends StatelessWidget {
  const DeletePage({super.key});

  @override
  Widget build(BuildContext context) {
    final theme = Theme.of(context);
    return Scaffold(
      appBar: AppBar(title: Text(context.tr('delpol.appbar'))),
      body: SafeArea(
        child: SelectionArea(
          child: ListView(
            padding: const EdgeInsets.fromLTRB(16, 12, 16, 32),
            children: [
              Text(
                context.tr('delpol.heading'),
                style: theme.textTheme.headlineSmall?.copyWith(fontWeight: FontWeight.w700),
              ),
              const SizedBox(height: 8),
              Text(
                context.tr('delpol.updated'),
                style: theme.textTheme.bodySmall?.copyWith(color: theme.hintColor),
              ),
              const SizedBox(height: 16),
              _p(context.tr('delpol.intro')),

              _h(context.tr('delpol.s1_title')),
              _ul([
                context.tr('delpol.s1_1'),
                context.tr('delpol.s1_2'),
                context.tr('delpol.s1_3'),
                context.tr('delpol.s1_4'),
              ]),

              _h(context.tr('delpol.s2_title')),
              _ol([
                context.tr('delpol.s2_1'),
               // context.tr('delpol.s2_2'),
                context.tr('delpol.s2_3'),
              ]),

              _h(context.tr('delpol.s3_title')),
              _p(context.tr('delpol.s3_body')),

              _h(context.tr('delpol.s4_title')),
              _ul([
                context.tr('delpol.s4_1'),
                context.tr('delpol.s4_2'),
              ]),

              _h(context.tr('delpol.s5_title')),
              _p(context.tr('delpol.s5_body')),

              _h(context.tr('delpol.s6_title')),
              _p(context.tr('delpol.s6_body')),
            ],
          ),
        ),
      ),
    );
  }

  // --- helpers UI ---
  static Widget _h(String text) => Padding(
    padding: const EdgeInsets.only(top: 20, bottom: 8),
    child: Text(text, style: const TextStyle(fontSize: 18, fontWeight: FontWeight.w800)),
  );

  static Widget _p(String text) =>
      Padding(padding: const EdgeInsets.only(top: 2), child: Text(text, style: const TextStyle(height: 1.4)));

  static Widget _ul(List<String> items) => Padding(
    padding: const EdgeInsets.only(top: 4),
    child: Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: items
          .map((e) => Padding(
        padding: const EdgeInsets.only(bottom: 6),
        child: Row(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            const Text('•  '),
            Expanded(child: Text(e)),
          ],
        ),
      ))
          .toList(),
    ),
  );

  static Widget _ol(List<String> items) => Padding(
    padding: const EdgeInsets.only(top: 4),
    child: Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        for (var i = 0; i < items.length; i++)
          Padding(
            padding: const EdgeInsets.only(bottom: 6),
            child: Row(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                Text('${i + 1}.  '),
                Expanded(child: Text(items[i])),
              ],
            ),
          ),
      ],
    ),
  );
}


// i18n.dart
'delpol.appbar': {
    AppLang.fr: '🗑️ Politique de suppression des données',
    AppLang.en: '🗑️ Data Deletion Policy',
  },
  'delpol.heading': {
    AppLang.fr: 'Politique de suppression des données — Puzzix',
    AppLang.en: 'Data Deletion Policy — Puzzix',
  },
  'delpol.updated': {
    AppLang.fr: 'Dernière mise à jour : 28 septembre 2025',
    AppLang.en: 'Last updated: September 28, 2025',
  },
  'delpol.intro': {
    AppLang.fr:
    'Chez MAHUGNON SERVICES LTD, nous respectons vos droits relatifs à vos données personnelles et appliquons une politique claire de suppression.',
    AppLang.en:
    'At MAHUGNON SERVICES LTD, we respect your data rights and apply a clear and transparent deletion policy.',
  },

  // 1. Données concernées
  'delpol.s1_title': { AppLang.fr: '1. Données concernées', AppLang.en: '1. Data Covered' },
  'delpol.s1_1': {
    AppLang.fr: 'Identifiant anonyme généré par l’application.',
    AppLang.en: 'Anonymous identifier generated by the app.',
  },
  'delpol.s1_2': {
    AppLang.fr: 'Progression des niveaux et statistiques de jeu.',
    AppLang.en: 'Level progression and gameplay statistics.',
  },
  'delpol.s1_3': {
    AppLang.fr: 'Token de notifications push.',
    AppLang.en: 'Push notification token.',
  },
  'delpol.s1_4': {
    AppLang.fr: 'Historique technique minimal lié à la session de jeu.',
    AppLang.en: 'Minimal technical history related to gameplay sessions.',
  },

  // 2. Procédure
  'delpol.s2_title': { AppLang.fr: '2. Procédure de demande', AppLang.en: '2. Request Procedure' },
  'delpol.s2_1': {
    AppLang.fr: 'Envoyez un e-mail à support@puzzixapp.com avec pour objet « Suppression de compte ».',
    AppLang.en: 'Send an email to support@puzzixapp.com with the subject “Account Deletion”.',
  },
  'delpol.s2_2': {
    AppLang.fr: 'Indiquez l’adresse e-mail ou l’identifiant associé à votre compte.',
    AppLang.en: 'Include the email address or identifier associated with your account.',
  },
  'delpol.s2_3': {
    AppLang.fr: 'Vous recevrez une confirmation une fois la suppression effectuée.',
    AppLang.en: 'You will receive a confirmation once the deletion is completed.',
  },

  // 3. Délais
  'delpol.s3_title': { AppLang.fr: '3. Délais de suppression', AppLang.en: '3. Deletion Timeframes' },
  'delpol.s3_body': {
    AppLang.fr:
    'Vos données sont supprimées dans un délai maximum de 30 jours à compter de la réception de votre demande.',
    AppLang.en:
    'Your data will be deleted within a maximum of 30 days from receipt of your request.',
  },

  // 4. Données non supprimées immédiatement
  'delpol.s4_title': { AppLang.fr: '4. Données non supprimées immédiatement', AppLang.en: '4. Data Not Deleted Immediately' },
  'delpol.s4_1': {
    AppLang.fr: 'Données de sécurité : conservation pouvant aller jusqu’à 90 jours.',
    AppLang.en: 'Security logs: retained for up to 90 days.',
  },
  'delpol.s4_2': {
    AppLang.fr: 'Obligations légales : conservation plus longue si la loi l’exige.',
    AppLang.en: 'Legal obligations: longer retention if required by law.',
  },

  // 5. Irréversibilité
  'delpol.s5_title': { AppLang.fr: '5. Irréversibilité', AppLang.en: '5. Irreversibility' },
  'delpol.s5_body': {
    AppLang.fr:
    'La suppression est définitive et irréversible. Une fois vos données supprimées, elles ne peuvent pas être restaurées.',
    AppLang.en:
    'Deletion is final and irreversible. Once your data is deleted, it cannot be restored.',
  },

  // 6. Contact
  'delpol.s6_title': { AppLang.fr: '6. Contact', AppLang.en: '6. Contact' },
  'delpol.s6_body': {
    AppLang.fr:
    'Pour toute question : support@puzzixapp.com — MAHUGNON SERVICES LTD, 20 Wenlock Road, London, N1 7GU, Royaume-Uni.',
    AppLang.en:
    'For any questions: support@puzzixapp.com — MAHUGNON SERVICES LTD, 20 Wenlock Road, London, N1 7GU, United Kingdom.',
  },